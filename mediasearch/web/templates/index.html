<!DOCTYPE HTML>
<html ng-app="Mediasearch">

  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>{{ site_title }}</title>
  </head>

  <body>

    <h1>{{ site_title }}</h1>

    <form ng-controller="MediasearchForm">
      <div>
        {{ form.search_query(placeholder='Search Terms...', type='search', **{'ng-model': 'form.search_query'}) }}
        <button type="button" ng-click="search()">Search</button>
      </div>
    </form>

    {% raw %}
    <div class="results" ng-controller="MediasearchResultsCtrl">

      <div ng-show="waiting()">Waiting for results</div>

      <h2 ng-show="results_visible()">Results</h2>

      <ul ng-show="results_visible()">
        <li ng-repeat="result in results">
          {{ result.title }} <a ng-href="{{ result.url }}">{{ result.source }}</a>
        </li>
      </ul>

    </div>
    {% endraw %}

    <script src="{{ url_for('static', filename='js/jquery-1.10.2.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/angular.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/mediasearch.js') }}"></script>

  </body>

</html>
{# vim: ft=jinja : #}
